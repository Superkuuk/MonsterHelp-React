{"ast":null,"code":"var _jsxFileName = \"/Users/rutger/Desktop/DnD/DnD Toolies/MonsterAI/MonsterHelp-React/src/Statblock.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport xmlData from './MMBestiary.xml';\nimport XMLParser from 'react-xml-parser';\n\nclass StatBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      monster: {},\n      search: this.props.name,\n      isLoaded: false\n    };\n  }\n\n  componentDidMount() {\n    // var bestiary;\n    // var xhttp = new XMLHttpRequest();\n    // xhttp.onreadystatechange = function() {\n    //     if (this.readyState == 4 && this.status == 200) {\n    //        // Typical action to be performed when the document is ready:\n    //        bestiary = new DOMParser().parseFromString(xhttp.responseText, \"text/xml\");\n    //        console.log(bestiary.getElementsByTagName('name')[0].childNodes[0].nodeValue);\n    //        this.setState({\n    //          data: bestiary.getElementsByTagName('name')[0].childNodes[0].nodeValue,\n    //          isLoaded: true,\n    //        });\n    //     }\n    // };\n    // xhttp.open(\"GET\", xmlData, true);\n    // xhttp.send();\n    fetch(xmlData).then(response => response.text()).then(res => structureData(res, this.state.search)) //    .then(d => console.log(d))\n    .then(data => {\n      this.setState({\n        monster: data,\n        isLoaded: true\n      });\n    });\n  }\n\n  render() {\n    console.log(this.state);\n\n    if (!this.state.isLoaded) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }\n      }, \"Loading...\");\n    } else {\n      var {\n        monster,\n        search,\n        isLoaded\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"StatBlock\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }\n      }, monster.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }\n      }, \"description\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"triangleContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"triangle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 46\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, \"Armor\"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 56\n        }\n      }, \" 11 (hide armor)\")), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 20\n        }\n      }, \"Hit Points\"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 60\n        }\n      }, \" 59 (7d10+21)\")), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 20\n        }\n      }, \"Speed\"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 55\n        }\n      }, \" 40 ft.\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"triangleContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"triangle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 46\n        }\n      })), /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 26\n        }\n      }, \"STR    \"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 42\n        }\n      }, \"DEX   \"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 57\n        }\n      }, \"CON    \"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 73\n        }\n      }, \"INT   \"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 88\n        }\n      }, \"WIS   \"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 103\n        }\n      }, \"CHA   \"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 26\n        }\n      }, \"19 (+4)\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 42\n        }\n      }, \"8 (-1)\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 57\n        }\n      }, \"16 (+3)\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 73\n        }\n      }, \"5 (-3)\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 88\n        }\n      }, \"7 (-2)\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 103\n        }\n      }, \"7 (-2)\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"triangleContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"triangle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 46\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 18\n        }\n      }, \"Senses\"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 54\n        }\n      }, \" darkvision 60ft., passive Perception 8\")), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 18\n        }\n      }, \"Languages\"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 57\n        }\n      }, \" Common, Giant\")), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 18\n        }\n      }, \"Challenge\"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 57\n        }\n      }, \" 2 (450 XP)\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"triangleContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"triangle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 46\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attack\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"attackname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 35\n        }\n      }, \"Greatclub. \"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 82\n        }\n      }, \"+6 to hit, reach 5 ft., one target. 13 (2d8+4) bludgeoning damage.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"actions red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, \"Actions\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"hr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attack\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"attackname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 35\n        }\n      }, \"Greatclub.\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 81\n        }\n      }, \" Melee Weapon Attack: \"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 140\n        }\n      }, \"+6 to hit, reach 5 ft., one target.\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 188\n        }\n      }, \"Hit: \"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 230\n        }\n      }, \"13 (2d8+4) bludgeoning damage.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attack\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"attackname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 35\n        }\n      }, \"Javelin.\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 79\n        }\n      }, \" Melee or Ranged Weapon Attack: \"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 148\n        }\n      }, \"+6 to hit, reach 5 ft. or 30ft./120, one target.\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 209\n        }\n      }, \"Hit: \"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 251\n        }\n      }, \"11 (2d6+4) piercing damage.\")));\n    }\n  }\n\n}\n\nexport default StatBlock;\n\nfunction structureData(d, m) {\n  d = new window.DOMParser().parseFromString(d, \"text/xml\"); //console.log(Array.from(d.getElementsByTagName(\"monster\"))[0]);\n\n  d = Array.from(d.getElementsByTagName(\"monster\"));\n  var monsterDOM = []; // Search for given monster\n\n  for (var i = 0; d.length; i++) {\n    if (d[i].getElementsByTagName(\"name\")[0].childNodes[0].nodeValue == m) {\n      monsterDOM = d[i];\n      break;\n    }\n  }\n\n  return XML2Monster(monsterDOM);\n} // convert XML data into JavaScript array of a monster\n\n\nfunction XML2Monster(monsterDOM) {\n  var monster = {};\n  const elements = monsterDOM.querySelectorAll(\"*\");\n  elements.forEach(e => {\n    if (e.childNodes.length > 1) {\n      //Nested\n      var traits = {};\n      const elements2 = e.querySelectorAll(\"trait\");\n      elements2.forEach(e2 => {\n        //tempElem[e2.tagName] = e2.childNodes[0].nodeValue;\n        console.log(e2);\n      }); // monster[e.tagName] = tempElem;\n    } else {\n      monster[e.tagName] = e.childNodes[0].nodeValue;\n    }\n  });\n  return monster;\n}","map":{"version":3,"sources":["/Users/rutger/Desktop/DnD/DnD Toolies/MonsterAI/MonsterHelp-React/src/Statblock.js"],"names":["React","ReactDOM","xmlData","XMLParser","StatBlock","Component","constructor","props","state","monster","search","name","isLoaded","componentDidMount","fetch","then","response","text","res","structureData","data","setState","render","console","log","d","m","window","DOMParser","parseFromString","Array","from","getElementsByTagName","monsterDOM","i","length","childNodes","nodeValue","XML2Monster","elements","querySelectorAll","forEach","e","traits","elements2","e2","tagName"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport xmlData from './MMBestiary.xml';\nimport XMLParser from 'react-xml-parser';\n\nclass StatBlock extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      monster: {},\n      search: this.props.name,\n      isLoaded: false,\n    };\n  }\n\n  componentDidMount() {\n    // var bestiary;\n    // var xhttp = new XMLHttpRequest();\n    // xhttp.onreadystatechange = function() {\n    //     if (this.readyState == 4 && this.status == 200) {\n    //        // Typical action to be performed when the document is ready:\n    //        bestiary = new DOMParser().parseFromString(xhttp.responseText, \"text/xml\");\n    //        console.log(bestiary.getElementsByTagName('name')[0].childNodes[0].nodeValue);\n    //        this.setState({\n    //          data: bestiary.getElementsByTagName('name')[0].childNodes[0].nodeValue,\n    //          isLoaded: true,\n    //        });\n    //     }\n    // };\n    // xhttp.open(\"GET\", xmlData, true);\n    // xhttp.send();\n    fetch(xmlData)\n    .then(response => response.text())\n    .then(res => structureData(res, this.state.search))\n//    .then(d => console.log(d))\n    .then(data => {\n      this.setState({\n        monster: data,\n        isLoaded: true,\n      })}\n    );\n  }\n\n  render() {\n    console.log(this.state);\n    if (!this.state.isLoaded) {\n      return (<div>Loading...</div>);\n    } else {\n      var {monster, search, isLoaded} = this.state;\n      return (\n        <div className=\"StatBlock\">\n          <div className=\"name\">{monster.name}</div>\n          <div className=\"description\">description</div>\n\n          <div className=\"triangleContainer\"><div className=\"triangle\"></div></div>\n\n          <div className=\"red\">\n              <div ><span className=\"bold\">Armor</span><span> 11 (hide armor)</span></div>\n              <div><span className=\"bold\">Hit Points</span><span> 59 (7d10+21)</span></div>\n              <div><span className=\"bold\">Speed</span><span> 40 ft.</span></div>\n          </div>\n\n          <div className=\"triangleContainer\"><div className=\"triangle\"></div></div>\n\n          <table>\n              <thead><tr><th>STR    </th><th>DEX   </th><th>CON    </th><th>INT   </th><th>WIS   </th><th>CHA   </th></tr></thead>\n              <tbody><tr><td>19 (+4)</td><td>8 (-1)</td><td>16 (+3)</td><td>5 (-3)</td><td>7 (-2)</td><td>7 (-2)</td></tr></tbody>\n          </table>\n\n          <div className=\"triangleContainer\"><div className=\"triangle\"></div></div>\n\n          <div className=\"red\">\n            <div><span className=\"bold\">Senses</span><span> darkvision 60ft., passive Perception 8</span></div>\n            <div><span className=\"bold\">Languages</span><span> Common, Giant</span></div>\n            <div><span className=\"bold\">Challenge</span><span> 2 (450 XP)</span></div>\n          </div>\n\n          <div className=\"triangleContainer\"><div className=\"triangle\"></div></div>\n\n          <div className=\"attack\"><span className=\"attackname\">Greatclub. </span><span>+6 to hit, reach 5 ft., one target. 13 (2d8+4) bludgeoning damage.</span></div>\n\n          <div className=\"actions red\">Actions</div>\n          <div className=\"hr\"></div>\n\n          <div className=\"attack\"><span className=\"attackname\">Greatclub.</span><span className=\"description\"> Melee Weapon Attack: </span><span>+6 to hit, reach 5 ft., one target.</span><span className=\"description\">Hit: </span><span>13 (2d8+4) bludgeoning damage.</span></div>\n          <div className=\"attack\"><span className=\"attackname\">Javelin.</span><span className=\"description\"> Melee or Ranged Weapon Attack: </span><span>+6 to hit, reach 5 ft. or 30ft./120, one target.</span><span className=\"description\">Hit: </span><span>11 (2d6+4) piercing damage.</span></div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default StatBlock;\n\nfunction structureData(d, m) {\n  d = (new window.DOMParser()).parseFromString(d, \"text/xml\");\n  //console.log(Array.from(d.getElementsByTagName(\"monster\"))[0]);\n  d = Array.from(d.getElementsByTagName(\"monster\"));\n  var monsterDOM = [];\n  // Search for given monster\n  for (var i = 0; d.length; i++) {\n    if(d[i].getElementsByTagName(\"name\")[0].childNodes[0].nodeValue == m) {\n      monsterDOM = d[i];\n      break;\n    }\n  }\n  return XML2Monster(monsterDOM);\n}\n\n// convert XML data into JavaScript array of a monster\nfunction XML2Monster(monsterDOM) {\n  var monster = {};\n  const elements = monsterDOM.querySelectorAll(\"*\");\n\telements.forEach(e => {\n    if (e.childNodes.length > 1) {\n      //Nested\n      var traits = {};\n      const elements2 = e.querySelectorAll(\"trait\");\n      elements2.forEach(e2 => {\n        //tempElem[e2.tagName] = e2.childNodes[0].nodeValue;\n        console.log(e2);\n      });\n      // monster[e.tagName] = tempElem;\n    } else {\n      monster[e.tagName] = e.childNodes[0].nodeValue;\n    }\n\t});\n  return monster;\n}\n"]},"metadata":{},"sourceType":"module"}